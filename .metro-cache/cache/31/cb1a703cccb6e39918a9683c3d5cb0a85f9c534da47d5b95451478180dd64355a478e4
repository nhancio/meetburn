{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":81,"index":81}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./KeepAwake.types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":83},"end":{"line":3,"column":75,"index":158}}],"key":"EDDLHqNoG4Xp68CaWUMvy09c+fg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _expoModulesCore = require(_dependencyMap[0], \"expo-modules-core\");\n  var _KeepAwakeTypes = require(_dependencyMap[1], \"./KeepAwake.types\");\n  const wakeLockMap = {};\n  /** Wraps the webWakeLock API https://developer.mozilla.org/en-US/docs/Web/API/Screen_Wake_Lock_API */\n  var _default = {\n    async isAvailableAsync() {\n      if (_expoModulesCore.Platform.isDOMAvailable) {\n        return 'wakeLock' in navigator;\n      }\n      return false;\n    },\n    async activate(tag) {\n      if (!_expoModulesCore.Platform.isDOMAvailable) {\n        return;\n      }\n      const wakeLock = await navigator.wakeLock.request('screen');\n      wakeLockMap[tag] = wakeLock;\n    },\n    async deactivate(tag) {\n      if (!_expoModulesCore.Platform.isDOMAvailable) {\n        return;\n      }\n      if (wakeLockMap[tag]) {\n        wakeLockMap[tag].release?.();\n        delete wakeLockMap[tag];\n      } else {\n        throw new _expoModulesCore.CodedError('ERR_KEEP_AWAKE_TAG_INVALID', `The wake lock with tag ${tag} has not activated yet`);\n      }\n    },\n    addListenerForTag(tag, listener) {\n      const eventListener = () => {\n        listener({\n          state: _KeepAwakeTypes.KeepAwakeEventState.RELEASE\n        });\n      };\n      const sentinel = wakeLockMap[tag];\n      if (sentinel) {\n        if ('addEventListener' in sentinel) {\n          sentinel.addEventListener?.('release', eventListener);\n        } else {\n          sentinel.onrelease = eventListener;\n        }\n      }\n      return {\n        remove: () => {\n          const sentinel = wakeLockMap[tag];\n          if (sentinel) {\n            if (sentinel.removeEventListener) {\n              sentinel.removeEventListener('release', eventListener);\n            } else {\n              sentinel.onrelease = null;\n            }\n          }\n        }\n      };\n    }\n  };\n});","lineCount":70,"map":[[7,2,24,0,"Object"],[7,8,24,0],[7,9,24,0,"defineProperty"],[7,23,24,0],[7,24,24,0,"exports"],[7,31,24,0],[8,4,24,0,"enumerable"],[8,14,24,0],[9,4,24,0,"get"],[9,7,24,0],[9,18,24,0,"get"],[9,19,24,0],[10,6,24,0],[10,13,24,0,"_default"],[10,21,24,0],[11,4,24,0],[12,2,24,0],[13,2,1,0],[13,6,1,0,"_expoModulesCore"],[13,22,1,0],[13,25,1,0,"require"],[13,32,1,0],[13,33,1,0,"_dependencyMap"],[13,47,1,0],[14,2,3,0],[14,6,3,0,"_KeepAwakeTypes"],[14,21,3,0],[14,24,3,0,"require"],[14,31,3,0],[14,32,3,0,"_dependencyMap"],[14,46,3,0],[15,2,5,0],[15,8,5,6,"wakeLockMap"],[15,19,5,51],[15,22,5,54],[15,23,5,55],[15,24,5,56],[16,2,23,0],[17,2,24,0],[17,6,24,0,"_default"],[17,14,24,0],[17,17,24,15],[18,4,25,2],[18,10,25,8,"isAvailableAsync"],[18,26,25,24,"isAvailableAsync"],[18,27,25,24],[18,29,25,27],[19,6,26,4],[19,10,26,8,"Platform"],[19,26,26,16],[19,27,26,16,"Platform"],[19,35,26,16],[19,36,26,17,"isDOMAvailable"],[19,50,26,31],[19,52,26,33],[20,8,27,6],[20,15,27,13],[20,25,27,23],[20,29,27,27,"navigator"],[20,38,27,36],[21,6,28,4],[22,6,29,4],[22,13,29,11],[22,18,29,16],[23,4,30,2],[23,5,30,3],[24,4,31,2],[24,10,31,8,"activate"],[24,18,31,16,"activate"],[24,19,31,17,"tag"],[24,22,31,28],[24,24,31,30],[25,6,32,4],[25,10,32,8],[25,11,32,9,"Platform"],[25,27,32,17],[25,28,32,17,"Platform"],[25,36,32,17],[25,37,32,18,"isDOMAvailable"],[25,51,32,32],[25,53,32,34],[26,8,33,6],[27,6,34,4],[28,6,35,4],[28,12,35,10,"wakeLock"],[28,20,35,18],[28,23,35,21],[28,29,35,27,"navigator"],[28,38,35,36],[28,39,35,37,"wakeLock"],[28,47,35,45],[28,48,35,46,"request"],[28,55,35,53],[28,56,35,54],[28,64,35,62],[28,65,35,63],[29,6,36,4,"wakeLockMap"],[29,17,36,15],[29,18,36,16,"tag"],[29,21,36,19],[29,22,36,20],[29,25,36,23,"wakeLock"],[29,33,36,31],[30,4,37,2],[30,5,37,3],[31,4,38,2],[31,10,38,8,"deactivate"],[31,20,38,18,"deactivate"],[31,21,38,19,"tag"],[31,24,38,30],[31,26,38,32],[32,6,39,4],[32,10,39,8],[32,11,39,9,"Platform"],[32,27,39,17],[32,28,39,17,"Platform"],[32,36,39,17],[32,37,39,18,"isDOMAvailable"],[32,51,39,32],[32,53,39,34],[33,8,40,6],[34,6,41,4],[35,6,42,4],[35,10,42,8,"wakeLockMap"],[35,21,42,19],[35,22,42,20,"tag"],[35,25,42,23],[35,26,42,24],[35,28,42,26],[36,8,43,6,"wakeLockMap"],[36,19,43,17],[36,20,43,18,"tag"],[36,23,43,21],[36,24,43,22],[36,25,43,23,"release"],[36,32,43,30],[36,35,43,33],[36,36,43,34],[37,8,44,6],[37,15,44,13,"wakeLockMap"],[37,26,44,24],[37,27,44,25,"tag"],[37,30,44,28],[37,31,44,29],[38,6,45,4],[38,7,45,5],[38,13,45,11],[39,8,46,6],[39,14,46,12],[39,18,46,16,"CodedError"],[39,34,46,26],[39,35,46,26,"CodedError"],[39,45,46,26],[39,46,47,8],[39,74,47,36],[39,76,48,8],[39,102,48,34,"tag"],[39,105,48,37],[39,129,49,6],[39,130,49,7],[40,6,50,4],[41,4,51,2],[41,5,51,3],[42,4,52,2,"addListenerForTag"],[42,21,52,19,"addListenerForTag"],[42,22,52,20,"tag"],[42,25,52,31],[42,27,52,33,"listener"],[42,35,52,60],[42,37,52,81],[43,6,53,4],[43,12,53,10,"eventListener"],[43,25,53,23],[43,28,53,26,"eventListener"],[43,29,53,26],[43,34,53,32],[44,8,54,6,"listener"],[44,16,54,14],[44,17,54,15],[45,10,54,17,"state"],[45,15,54,22],[45,17,54,24,"KeepAwakeEventState"],[45,32,54,43],[45,33,54,43,"KeepAwakeEventState"],[45,52,54,43],[45,53,54,44,"RELEASE"],[46,8,54,52],[46,9,54,53],[46,10,54,54],[47,6,55,4],[47,7,55,5],[48,6,56,4],[48,12,56,10,"sentinel"],[48,20,56,18],[48,23,56,21,"wakeLockMap"],[48,34,56,32],[48,35,56,33,"tag"],[48,38,56,36],[48,39,56,37],[49,6,57,4],[49,10,57,8,"sentinel"],[49,18,57,16],[49,20,57,18],[50,8,58,6],[50,12,58,10],[50,30,58,28],[50,34,58,32,"sentinel"],[50,42,58,40],[50,44,58,42],[51,10,59,8,"sentinel"],[51,18,59,16],[51,19,59,17,"addEventListener"],[51,35,59,33],[51,38,59,36],[51,47,59,45],[51,49,59,47,"eventListener"],[51,62,59,60],[51,63,59,61],[52,8,60,6],[52,9,60,7],[52,15,60,13],[53,10,61,8,"sentinel"],[53,18,61,16],[53,19,61,17,"onrelease"],[53,28,61,26],[53,31,61,29,"eventListener"],[53,44,61,42],[54,8,62,6],[55,6,63,4],[56,6,64,4],[56,13,64,11],[57,8,65,6,"remove"],[57,14,65,12],[57,16,65,14,"remove"],[57,17,65,14],[57,22,65,20],[58,10,66,8],[58,16,66,14,"sentinel"],[58,24,66,22],[58,27,66,25,"wakeLockMap"],[58,38,66,36],[58,39,66,37,"tag"],[58,42,66,40],[58,43,66,41],[59,10,67,8],[59,14,67,12,"sentinel"],[59,22,67,20],[59,24,67,22],[60,12,68,10],[60,16,68,14,"sentinel"],[60,24,68,22],[60,25,68,23,"removeEventListener"],[60,44,68,42],[60,46,68,44],[61,14,69,12,"sentinel"],[61,22,69,20],[61,23,69,21,"removeEventListener"],[61,42,69,40],[61,43,69,41],[61,52,69,50],[61,54,69,52,"eventListener"],[61,67,69,65],[61,68,69,66],[62,12,70,10],[62,13,70,11],[62,19,70,17],[63,14,71,12,"sentinel"],[63,22,71,20],[63,23,71,21,"onrelease"],[63,32,71,30],[63,35,71,33],[63,39,71,37],[64,12,72,10],[65,10,73,8],[66,8,74,6],[67,6,75,4],[67,7,75,5],[68,4,76,2],[69,2,77,0],[69,3,77,1],[70,0,77,2],[70,3]],"functionMap":{"names":["<global>","default.isAvailableAsync","default.activate","default.deactivate","default.addListenerForTag","eventListener","remove"],"mappings":"AAA;ECwB;GDK;EEC;GFM;EGC;GHa;EIC;0BCC;KDE;cEU;OFS;GJE"},"hasCjsExports":false},"type":"js/module"}]}